!function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([,function(t,e,n){"use strict";n.r(e);var s=wp.element.Fragment,i=wp.components.Spinner,o=function(t){return"loading"==t.status?[React.createElement(s,null,React.createElement("div",{className:"st-block-preview"},React.createElement("div",{className:"st-block-preview__content"},React.createElement("div",{className:"st-block-preview__logo"}," "),React.createElement(i,null))))]:null},a=function(t,e){return"strong-view strong-view-id-".concat(t," ").concat(e," wpmtst-").concat(e)},r=function(t,e){var n="strong-content strong-".concat(t," columns-").concat(e);return""==t?n="strong-content strong-normal columns-1":"masonry"==t&&(n+=" masonry"),n},l=function(t){return React.createElement("h3",{class:"wpmtst-testimonial-heading testimonial-heading"},React.createElement("a",{href:t.meta.meta.company_website[0],rel:"bookmark"},t.title.rendered))},c=function(t){switch(t){case"widget-thumbnail":return"75";case"thumbnail":return"150";case"medium":return"300";case"large":return"1024"}},u=wp.element,p=(u.Component,u.Fragment,u.useEffect),m=function(t){var e,n,s,i=t.testimonial,o=t.attributes,a=t.viewType,r=i.id;i.title,i.content,i.meta.meta;if("display"==a){var u=o.layout;o.columns;p((function(){var t;"masonry"==u&&((t=jQuery('.strong-view[data-state="idle"] .strong-masonry')).prepend('<div class="grid-sizer"></div><div class="gutter-sizer"></div>'),t.masonry({columnWidth:".grid-sizer",gutter:".gutter-sizer",itemSelector:".wpmtst-testimonial",percentPosition:!0}),t.closest(".strong-view").attr("data-state","init"))}))}return[React.createElement("div",{className:"wpmtst-testimonial testimonial post-".concat(r," t-slide")},React.createElement("div",{className:"wpmtst-testimonial-inner testimonial-inner"},React.createElement("div",{className:"wpmtst-testimonial-content testimonial-content"},l(i),React.createElement("p",null,i.content.raw.replace(/(<([^>]+)>)/gi,""))),(e=i.meta.featured_image,n=st_views.gravatar,s=c("thumbnail"),0==e?React.createElement("div",{class:"wpmtst-testimonial-image testimonial-image"},React.createElement("img",{alt:"",src:n,srcset:n,class:"avatar avatar-".concat(s," photo"),height:s,width:s,loading:"lazy"})):React.createElement("div",{class:"wpmtst-testimonial-image testimonial-image"},React.createElement("img",{width:s,height:s,src:e,class:"attachment-thumbnail size-thumbnail wp-post-image",alt:"",srcset:e,sizes:"(max-width: ".concat(s,"px) 100vw, ").concat(s,"px")}))),React.createElement("div",{class:"clear"})))]};function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}var g=wp.element.Fragment,f=function(t){var e=t.attributes,n=e.id,s=e.template,i=e.layout,o=e.columns,l=e.testimonials;return[React.createElement("div",{className:a(n,s),"data-count":l.length,"data-state":"idle"},React.createElement("div",{className:r(i,o)},React.createElement(g,null,l.map((function(e,n){return[React.createElement(m,d({testimonial:e,index:n},t))]})))))]},y=(wp.i18n.__,wp.element),w=(y.Component,y.Fragment,y.useEffect),h=wp.data,b=h.withSelect,v=h.useSelect,_=wp.components,E=(_.SelectControl,_.Spinner,_.Toolbar,_.Button,wp.blockEditor.BlockControls,wp.compose.compose,b((function(t,e){return{testimonials:(0,t("core").getEntityRecords)("postType","wpm-testimonial",{post_status:"publish",per_page:-1})||[]}})),wp.components.withFilters("wpst.StrongTestimonialViewEdit"),function(t){var e=t.setAttributes,n=t.attributes,s=n.status,i=n.testimonials,a=v((function(t){return(0,t("core").getEntityRecords)("postType","wpm-testimonial",{post_status:"publish",per_page:-1})||[]}));return w((function(){0!=i||(0==a.length?e({status:"loading"}):0!=a.length&&0==i.length&&e({status:"ready",testimonials:a}))})),w((function(){e({id:Math.floor(1e4*Math.random())+1,layout:"normal",template:"default",columns:1})}),[]),"loading"===s?[React.createElement(o,{status:s})]:React.createElement(f,t)}),k=function(t,e,n){var s="strong-view strong-view-id-".concat(t," ").concat(e," wpmtst-").concat(e," slider-container slider-mode-").concat(n.effect);return 1==n.adapt_height&&(s+=" slider-adaptive"),"none"!=n.controls_type&&("sides"==n.controls_type?s+=" controls-type-sides controls-style-".concat(n.controls_style):"simple"!=n.controls_type&&"full"!=n.controls_type||(s+=" nav-position-".concat(n.nav_position," controls-style-").concat(n.controls_style)),"full"==n.pager_type&&(s+=" pager-type-full pager-style-".concat(n.pager_style))),s},R=wp.element,O=R.Fragment,S=R.useEffect,x=function(t){var e=t.attributes,n=e.id,s=e.template,i=e.testimonials,o=e.config,a=e.viewType;S((function(){!1!==o&&r(function(t,e){return console.log(t),{mode:t.effect,speed:t.speed,pause:t.pause,autoHover:t.auto_hover,autoStart:0,infiniteLoop:t.continuous_sliding,stopAutoOnClick:t.stop_auto_on_click,adaptiveHeight:t.adapt_height,adaptiveHeightSpeed:t.adapt_height_speed,controls:1,autoControls:1,pager:"full"==t.pager_type?1:0,slideCount:e.length,debug:!1,type:t.type,breakpoints:{single:{maxSlides:t.show_single.max_slides,moveSlides:t.show_single.move_slides,slideMargin:t.show_single.margin},multiple:t.breakpoints},startText:"text"==t.controls_style?"Start":"",stopText:"text"==t.controls_style?"Stop":"",prevText:"text"==t.controls_style?"Prev":"",nextText:"text"==t.controls_style?"Next":"",buildPager:"text"==t.pager_style?null:"icons",simpleSetPager:1}}(o,i))}));var r=function(t){console.log(t);var e=jQuery('.strong-view.slider-container[data-state="idle"]');e.length&&e.each((function(){var e=jQuery(this),n=e.data("count");void 0!==n&&1===n||e.strongSlider(t)}))};return React.createElement(O,null,React.createElement("div",{className:k(n,s,o),"data-count":i.length,"data-slider-var":"strong_slider_id_".concat(n),"data-state":"idle"}," ",React.createElement("div",{class:"strong-content wpmslider-content"},i.length>0&&React.createElement(O,null,i.map((function(t,e){return[React.createElement(m,{testimonial:t,index:e,viewType:a})]}))))))},j=wp.element,T=(j.Component,j.Fragment,j.useEffect),P=wp.data,N=P.withSelect,C=P.useSelect,B=wp.components,M=(B.SelectControl,B.Spinner,B.Toolbar,B.Button,wp.blockEditor.BlockControls,wp.compose.compose,N((function(t,e){return{testimonials:(0,t("core").getEntityRecords)("postType","wpm-testimonial",{post_status:"publish",per_page:-1})||[]}})),wp.components.withFilters("wpst.StrongTestimonialViewEdit"),function(t){var e=t.setAttributes,n=t.attributes,s=n.status,i=n.testimonials,a=n.id,r=n.template,l=n.config,c=C((function(t){return(0,t("core").getEntityRecords)("postType","wpm-testimonial",{post_status:"publish",per_page:-1})||[]}));return T((function(){0!=i||(0==c.length?e({status:"loading"}):0!=c.length&&0==i.length&&e({status:"ready",testimonials:c}))})),T((function(){0==a&&""==r&&e({id:Math.floor(1e4*Math.random())+1,template:"default"}),0==l&&e({config:{type:"show_single",show_single:{max_slides:1,move_slides:1,margin:1},breakpoints:{desktop:{description:"Desktop",width:1200,max_slides:2,move_slides:1,margin:20},large:{description:"Large",width:1024,max_slides:2,move_slides:1,margin:20},medium:{description:"Medium",width:640,max_slides:1,move_slides:1,margin:10},small:{description:"Small",width:480,max_slides:1,move_slides:1,margin:1}},effect:"fade",speed:1,pause:8,auto_start:!0,continuous_sliding:!0,auto_hover:!0,adapt_height:!0,adapt_height_speed:.5,stretch:0,stop_auto_on_click:!0,controls_type:"simple",controls_style:"buttons",pager_type:"none",pager_style:"buttons",nav_position:"inside"}})})),"loading"===s?[React.createElement(o,{status:s})]:React.createElement(x,t)});function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function Q(t,e,n){return e&&H(t.prototype,e),n&&H(t,n),t}var q=wp.i18n.__,L=wp.blocks.registerBlockType,V=wp.blocks.createBlock,W=function(){function t(){D(this,t),this.registerBlock()}return Q(t,[{key:"registerBlock",value:function(){this.blockName="strongtestimonials/view",this.blockAttributes={id:{type:"number",default:0},viewType:{type:"string",default:"display"},status:{type:"string",default:"ready"},template:{type:"string",default:""},layout:{type:"string",default:""},columns:{type:"number",default:0},testimonials:{type:"array",default:[]}},L(this.blockName,{title:"Display",description:q("A beatiful display to show all your testimonials","strong-testimonials"),icon:"editor-quote",category:"strong-testimonials-view",supports:{customClassName:!1},attributes:this.blockAttributes,transforms:{to:[{attributes:F({},this.attributes),type:"block",priority:7,blocks:["strongtestimonials/slideshow"],transform:function(t){return V("strongtestimonials/slideshow",{id:t.id,status:t.status,template:t.template,testimonials:t.testimonials})}}]},edit:E,save:function(){return null}})}}]),t}(),G=function(){function t(){D(this,t),this.registerBlock()}return Q(t,[{key:"registerBlock",value:function(){this.blockName="strongtestimonials/slideshow",this.blockAttributes={id:{type:"number",default:0},viewType:{type:"string",default:"slideshow"},status:{type:"string",default:"ready"},template:{type:"string",default:""},testimonials:{type:"array",default:[]},config:{type:"object",default:!1}},L(this.blockName,{title:"Slideshow",description:q("A beautiful slideshow to show all your testimonials","strong-testimonials"),icon:"editor-quote",category:"strong-testimonials-view",supports:{customClassName:!1},attributes:this.blockAttributes,transforms:{to:[{attributes:F({},this.attributes),type:"block",priority:7,blocks:["strongtestimonials/view"],transform:function(t){return V("strongtestimonials/view",{id:t.id,status:t.status,template:t.template,testimonials:t.testimonials})}}]},edit:M,save:function(){return null}})}}]),t}();new W,new G}]);