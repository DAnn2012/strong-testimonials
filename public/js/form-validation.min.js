(function($){var checkboxes=document.getElementsByClassName("checkbox-label");function handleCheckboxEvent(e){if(e.keyCode===32){$(this).click().focus()}}for(var i=0;i<checkboxes.length;i++){checkboxes[i].addEventListener("click",handleCheckboxEvent,true);checkboxes[i].addEventListener("keyup",handleCheckboxEvent,true)}})(jQuery);(function($){$("input[type=url]").change(function(){if(this.value.length&&!/^https*:\/\//.test(this.value)){this.value="http://"+this.value}});$(".strong-rating").on("click",function(){if($(this).valid()){$(this).closest(".form-field").next().find("[tabindex=0]").focus()}});if(typeof strongForm!=="undefined"){if(strongForm.displaySuccessMessage){strongScrollOnSuccess()}else{if(strongForm.hasOwnProperty("ajaxUrl")){var formOptions={url:strongForm.ajaxUrl,data:{action:"wpmtst_form2"},success:strongShowResponse};$("#wpmtst-submission-form").validate({showErrors:strongShowErrors,submitHandler:function(form){$(form).ajaxSubmit(formOptions)}})}else{$.validator.addMethod("ratingRequired",function(value,element){console.log("validator",value,element);return $(element).find("input:checked").val()>0},"Please enter a rating");$("#wpmtst-submission-form").validate({submitHandler:function(form){if(!$("[name='strongrating']").valid()){return false}form.submit()},rules:{strongrating:{ratingRequired:true}},showErrors:strongShowErrors,errorPlacement:function(error,element){error.appendTo(element.closest("div.form-field"))},highlight:function(element,errorClass,validClass){if(element.type==="checkbox"){$(element).closest(".field-wrap").addClass(errorClass).removeClass(validClass)}else if(element.name==="strongrating"){$(element).closest(".field-wrap").addClass(errorClass).removeClass(validClass)}else{$(element).addClass(errorClass).removeClass(validClass)}},unhighlight:function(element,errorClass,validClass){if(element.type==="checkbox"){$(element).closest(".field-wrap").removeClass(errorClass).addClass(validClass)}else if(element.name==="strongrating"){$(element).closest(".field-wrap").removeClass(errorClass).addClass(validClass)}else{$(element).removeClass(errorClass).addClass(validClass)}}})}}}function strongShowErrors(errorMap,errorList){if(typeof strongForm==="undefined"){return}if(strongForm.scrollTopError==="1"){if(typeof errorList[0]!=="undefined"){var fieldOffset,scrollTop;fieldOffset=$(errorList[0].element).closest(".form-field").offset();scrollTop=fieldOffset.top-strongForm.scrollTopErrorOffset;$("html, body").animate({scrollTop:scrollTop},800)}}this.defaultShowErrors()}function strongShowResponse(response){var obj=JSON.parse(response);if(obj.success){$("#wpmtst-form").html(obj.message);strongScrollOnSuccess()}else{for(var key in obj.errors){if(obj.errors.hasOwnProperty(key)){$("div.wpmtst-"+key).find("span.error").remove().end().append('<span class="error">'+obj.errors[key]+"</span>")}}}}function strongScrollOnSuccess(){if(typeof strongForm==="undefined"){return}if(strongForm.scrollTopSuccess==="1"){var containerOffset,scrollTop;containerOffset=$(".testimonial-success").offset();if(containerOffset){scrollTop=containerOffset.top-strongForm.scrollTopSuccessOffset;if($("#wpadminbar").length){scrollTop-=32}$("html, body").animate({scrollTop:scrollTop},800)}}}})(jQuery);